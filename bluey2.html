<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Bluey Beach Sticker Page</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
    }
    canvas {
      display: block;
      background: url('https://i.imgur.com/4NJlKXl.jpg') no-repeat center center;
      background-size: cover;
    }
  </style>
</head>
<body>
<canvas id="stickerCanvas" width="1024" height="768"></canvas>

<script>
const canvas = document.getElementById("stickerCanvas");
const ctx = canvas.getContext("2d");

const stickers = [
  { src: "65BB2C41-DF56-4A2A-84B2-3F5DC52BC3F2.png", x: 100, y: 100, w: 170, h: 200 },
  { src: "979A1E8F-E4FA-4464-8ABC-4004B8533746.png", x: 300, y: 150, w: 160, h: 210 },
  { src: "A27C9359-7BBC-4ECD-B613-57713ADE672C.png", x: 500, y: 180, w: 160, h: 210 }
];

let images = [];
let dragging = null;
let offsetX, offsetY;

function loadStickers(callback) {
  let loaded = 0;
  stickers.forEach((sticker, index) => {
    const img = new Image();
    img.src = sticker.src;
    img.onload = () => {
      images[index] = img;
      loaded++;
      if (loaded === stickers.length) callback();
    };
    img.onerror = () => {
      console.error("Could not load", sticker.src);
    };
  });
}

function draw() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  stickers.forEach((sticker, index) => {
    ctx.drawImage(images[index], sticker.x, sticker.y, sticker.w, sticker.h);
  });
}

canvas.addEventListener("mousedown", e => {
  const rect = canvas.getBoundingClientRect();
  const mouseX = e.clientX - rect.left;
  const mouseY = e.clientY - rect.top;

  for (let i = stickers.length - 1; i >= 0; i--) {
    const s = stickers[i];
    if (mouseX >= s.x && mouseX <= s.x + s.w &&
        mouseY >= s.y && mouseY <= s.y + s.h) {
      dragging = i;
      offsetX = mouseX - s.x;
      offsetY = mouseY - s.y;
      break;
    }
  }
});

canvas.addEventListener("mousemove", e => {
  if (dragging === null) return;
  const rect = canvas.getBoundingClientRect();
  const mouseX = e.clientX - rect.left;
  const mouseY = e.clientY - rect.top;
  stickers[dragging].x = mouseX - offsetX;
  stickers[dragging].y = mouseY - offsetY;
  draw();
});

canvas.addEventListener("mouseup", () => dragging = null);
canvas.addEventListener("mouseleave", () => dragging = null);

loadStickers(draw);
</script>
</body>
</html>